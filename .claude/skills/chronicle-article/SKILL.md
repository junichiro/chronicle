---
name: chronicle-article
description: Chronicleブログの記事作成ワークフローを自動化するスキル。ユーザーが「記事にしたい」「ブログに書きたい」「これを公開したい」「記事にまとめたい」などと発言したときに自動的にトリガーされる。会話や議論の内容を分析し、記事構成の提案→ユーザー確認→記事執筆→プレビューブランチへのプッシュという一連のワークフローを実行する。
---

# Chronicle 記事作成スキル

このスキルは、Claude Code との壁打ち・議論からブログ記事を作成するワークフローを自動化する。

## トリガー条件

以下のような発言を検出したとき、このスキルを起動する：

- 「記事にしたい」「記事にしたいな」「記事にまとめたい」
- 「ブログに書きたい」「ブログにしたい」
- 「これを公開したい」「公開してほしい」
- 「ポストにしたい」「投稿したい」

## ワークフロー

### Step 1: 記事構成の提案

`article-planner` サブエージェントを呼び出し、これまでの会話を分析して記事構成を提案する。

提案内容：
- タイトル案
- slug
- タグ
- セクション構成と各セクションの概要
- 想定読了時間

### Step 2: ユーザー確認

提案された構成についてユーザーの確認を得る。

- 構成に問題がなければ次のステップへ進む
- 修正が必要な場合は、フィードバックを反映して構成を更新
- ユーザーの明示的な承認なしに執筆に進まない

### Step 3: 記事の執筆

`article-writer` サブエージェントを呼び出し、承認された構成に基づいて記事を執筆する。

執筆時の注意点：
- 現在の日時を `date "+%Y-%m-%dT%H:%M:%S+09:00"` で確認してからファイルを作成
- AstroPaper の規約に従った front matter を作成
- 日本語で自然な技術記事を執筆

### Step 4: プレビューブランチの作成とプッシュ

記事執筆後、以下の手順でプレビュー用ブランチを作成：

```bash
# 1. 現在のブランチを確認
git branch --show-current

# 2. ドラフト用ブランチを作成（slug は記事のスラッグ）
git checkout -b draft/<slug>

# 3. 記事をコミット
git add src/data/blog/<slug>.md
git commit -m "Draft: <記事タイトル>"

# 4. リモートにプッシュ
git push -u origin draft/<slug>
```

### Step 5: プレビュー URL の案内

プッシュ完了後、Cloudflare Pages のプレビュー URL をユーザーに案内する：

```
プレビューURL: https://draft-<slug>.chronicle-969.pages.dev/
```

## ブログ情報

- **URL**: https://chronicle-969.pages.dev/
- **ホスティング**: Cloudflare Pages
- **フレームワーク**: Astro + AstroPaper テーマ
- **言語**: 日本語
- **記事保存先**: `src/data/blog/slug.md`

## 関連サブエージェント

| エージェント | 役割 |
|-------------|------|
| `article-planner` | 議論を分析し、記事構成を提案 |
| `article-writer` | 構成に基づいて Markdown 記事を執筆 |
| `article-reviewer` | 記事をレビューし、改善提案を行う（/publish 時に使用） |
| `article-formatter` | 外部のMarkdown/テキストをブログ形式に変換 |

## 注意事項

- 壁打ち・議論の内容を正確に反映すること
- ユーザーの意図を確認しながら進めること
- 技術的な正確性を保つこと
- 読みやすい日本語で執筆すること
